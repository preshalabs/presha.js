// This file is part of the generated scaffolding layer in presha.js.
// You can extend or override this if needed â€” it is not internal framework logic.

import { BaseModel } from './BaseModel';
import { db } from '../../db';

export abstract class BaseRepository<T extends BaseModel> {
  abstract table: any;

  async findAll(): Promise<T[]> {
    return db.select().from(this.table);
  }

  async findById(id: number): Promise<T | undefined> {
    const result = await db.select().from(this.table).where({ id });
    return result[0];
  }

  // Future expansion:
  // async create(data: Partial<T>): Promise<T> { ... }
  // async update(id: number, data: Partial<T>): Promise<T> { ... }
  // async delete(id: number): Promise<void> { ... }
}
